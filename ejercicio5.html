<!DOCTYPE html>
<html>
    <head>
          
        

        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/fontAwesome.css">
        <link rel="stylesheet" href="css/hero-slider.css">
        <link rel="stylesheet" href="css/owl-carousel.css">
        <link rel="stylesheet" href="css/style.css">


        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <title>BANCO DE MEXICO</title>
    
        <link href="https://fonts.googleapis.com/css?family=Raleway:100,200,300,400,500,600,700,800,900" rel="stylesheet">
        <style>
            td {
                background-color: #E8E8E8;
                padding: 5px;
            }
            table { 
                border-spacing: 5px;
                border-collapse: separate;
            }
        </style>
        <script
            src='https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js'></script>
        <script>
        $(function(){
            let date =new Date();
            let ultimos=ultimosdias(new Date());
           let fechahoy = String(date.getFullYear() + '-' + String(date.getMonth() + 1).padStart(2, '0') + '-' + date.getDate()).padStart(2, '0') ;
           let antes = String(ultimos.getFullYear() + '-' + String(ultimos.getMonth() + 1).padStart(2, '0') + '-' + ultimos.getDate()).padStart(2, '0') ;
           let token='40eb434d4150909166319bc8e07cb5a62e9d85eb78cff8d348783f6ad20b39eb';
           let url1="https://www.banxico.org.mx/SieAPIRest/service/v1/series/SF43718/datos/"+antes+"/"+fechahoy+"?token="+token;
            
            $.ajax({
              // token:"40eb434d4150909166319bc8e07cb5a62e9d85eb78cff8d348783f6ad20b39eb",
                
                url : 'https://www.banxico.org.mx/SieAPIRest/service/v1/series/SF43718/datos/2022-08-14/2022-08-19?token=40eb434d4150909166319bc8e07cb5a62e9d85eb78cff8d348783f6ad20b39eb',
                //url: 'https://www.banxico.org.mx/SieAPIRest/service/v1/series/SF43718/datos/'+antes+"/"+fechahoy+"?token="+token,
                jsonp : 'callback',
                dataType : 'jsonp', //Se utiliza JSONP para realizar la consulta cross-site
                success : function(response) {  //Handler de la respuesta
                    var series=response.bmx.series;
                    var i=0;
                    var z =0;
let lenghtData = 0
series.forEach( series => {
    lenghtData += 1 
})
                    //Se carga una tabla con los registros obtenidos
                    for (z;z<5;z++ ){

                    
                    for (i=0 ; i < lenghtData ; i++) {
                          var serie=series[i];
                          var reg='<tr><td>'+z+'</td><td>'+serie.datos[z].fecha+'</td><td>'+serie.datos[z].dato+'</td></tr>'
                          $('#result').append(reg);
                    }
                }
                }
            });
        });
        function ultimosdias(fecha){
        fecha.setDate(fecha.getDate() - 5);
        return fecha;
        
        }
        </script>
      
      
    </head>

<body>
  
    <div class="wrap">
        <header id="header">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <button id="primary-nav-button" type="button">Menu</button>
                        <a href="index.html"><div class="logo">
                            <img src="img/logo.png" alt="Venue Logo">
                        </div></a>
                        <nav id="primary-nav" class="dropdown cf">
                  
                        </nav><!-- / #primary-nav -->

                    </div>
                </div>
            </div>
        </header>
    </div>
    <div  class="container mt-4 shadow-lg p-3 mb-5 bg-body rounded" >

        <table align="center">
            <thead>
                <tr>
                  <th>Id</th>
                  <th>Fecha</th>
                  <th>Tasa de Cambio</th>
                </tr>
              </thead>
              <tbody  id='result'>
            </tbody>
        </table>
      </div>
   
  <!--  <div class="container mt-4 shadow-lg p-3 mb-5 bg-body rounded">
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th>Id</th>
              <th>Name</th>
              <th>Email</th>
            </tr>
          </thead>
          <tbody id="data">
          </tbody>
        </table>
      </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
    
        <script>
        let date =new Date();
        let ultimos=ultimosdias(new Date());
           let fechahoy = String(date.getFullYear() + '-' + String(date.getMonth() + 1).padStart(2, '0') + '-' + date.getDate()).padStart(2, '0') ;
           let antes = String(ultimos.getFullYear() + '-' + String(ultimos.getMonth() + 1).padStart(2, '0') + '-' + ultimos.getDate()).padStart(2, '0') ;
           let token='40eb434d4150909166319bc8e07cb5a62e9d85eb78cff8d348783f6ad20b39eb';
           let url1="https://www.banxico.org.mx/SieAPIRest/service/v1/series/SF43718/datos/"+antes+"/"+fechahoy+"?token="+token;
           
           
      
         
            fetch(url1)
                .then( response => response.json() )
                .then( data => mostrarData(data) )
                .catch( error => console.log(error) )
            
            const mostrarData = (data) => {
                console.log(data)
                let body = ""
                forEach((data) => {
                    
                })
                for (var i = 0; i < data.length; i++) {      
                   body+=`<tr><td>${i}</td><td>${data[i].datos.fecha}</td><td>${data[i].datos.dato}</td></tr>`
                }
                document.getElementById('data').innerHTML = body
                //console.log(body)
            }
            function ultimosdias(fecha){
        fecha.setDate(fecha.getDate() - 5);
        return fecha;
}

        </script>
-->

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-5">
                    <div class="about-veno">
                        <div class="logo">
                            <img src="img/footer_logo.png" alt="Venue Logo">
                        </div>
                        <p>Edgar Ernesto Prada Gamarra</p>
                        
                    </div>
                </div>
           </footer>

    <div class="sub-footer">
        <p>Copyright Â© 2020 Company Name - Template by: <a href="https://www.phpjabbers.com/">PHPJabbers.com</a></p>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" type="text/javascript"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

    <script src="js/vendor/bootstrap.min.js"></script>
    
    <script src="js/datepicker.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>
</body>
</html>